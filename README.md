<!-- THAI VERSION -->
# üß† PROJECT NEXUS: The Unified Engine Architecture

> **"‡∏™‡∏´‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡∏õ‡∏±‡∏ç‡∏ç‡∏≤" (Intellectual Companion)** ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏ö‡∏ô‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏ö‡∏ö‡∏ú‡∏™‡∏°‡∏ú‡∏™‡∏≤‡∏ô (Hybrid Architecture) ‡∏ó‡∏µ‡πà‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏ó‡∏£‡∏á‡∏û‡∏•‡∏±‡∏á ‡πÇ‡∏î‡∏¢‡∏°‡∏µ **Dispatcher** ‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô "‡∏ú‡∏π‡πâ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ß‡∏á‡∏≠‡∏≠‡∏£‡πå‡πÄ‡∏Ñ‡∏™‡∏ï‡∏£‡∏≤" ‡∏Ç‡∏≠‡∏á **"‡∏ó‡∏µ‡∏°‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç" (Mixture of Experts)** ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏Ç‡∏∏‡∏°‡∏û‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å **"‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏´‡∏•‡∏≤‡∏¢‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î" (Mixture of Models)** ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Ç‡∏±‡∏ö‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏£‡∏£‡∏Å‡∏∞ **Chain of Thought** ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ **Advanced RAG** ‡πÅ‡∏•‡∏∞ **Unified RAG Engine Architecture** ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ú‡πà‡∏≤‡∏ô‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏° **API-Driven** ‡∏ó‡∏µ‡πà‡∏ó‡∏±‡∏ô‡∏™‡∏°‡∏±‡∏¢, ‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô, ‡πÅ‡∏•‡∏∞‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ç‡∏¢‡∏≤‡∏¢‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï

[![Python Version](https://img.shields.io/badge/Python-3.12+-blue.svg)](https://www.python.org/downloads/)
[![Framework](https://img.shields.io/badge/Framework-FastAPI-green.svg)](https://fastapi.tiangolo.com/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

<div align="right">
  <a href="#-project-nexus-the-unified-engine-architecture-english-version"><strong>English Version</strong></a>
</div>

---

**PROJECT NEXUS** ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÅ‡∏Ñ‡πà Chatbot ‡πÅ‡∏ï‡πà‡∏Ñ‡∏∑‡∏≠ **"‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏¥‡πÄ‡∏ß‡∏® AI ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï"** ‡∏ó‡∏µ‡πà‡∏ß‡∏¥‡∏ß‡∏±‡∏í‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡∏à‡∏≤‡∏Å‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤‡∏°‡∏≤‡∏™‡∏π‡πà "‡∏™‡∏´‡∏≤‡∏¢" ‡∏ó‡∏µ‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏à‡∏∞‡∏£‡πà‡∏ß‡∏°‡πÑ‡∏ï‡∏£‡πà‡∏ï‡∏£‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡πâ‡∏ô‡∏Ñ‡∏ß‡πâ‡∏≤‡πÑ‡∏õ‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏´‡∏ô‡∏∂‡πà‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡πÅ‡∏ï‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£ **"‡∏´‡∏•‡∏≠‡∏°‡∏£‡∏ß‡∏°‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏´‡∏•‡∏≤‡∏¢‡∏ä‡∏±‡πâ‡∏ô" (Layered Architectural Blend)** ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á AI ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏´‡∏•‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢, ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ö‡∏£‡∏¥‡∏ö‡∏ó‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å, ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏ö‡∏∏‡∏Ñ‡∏•‡∏¥‡∏Å‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ‡∏ï‡∏±‡∏ß‡∏ï‡∏ô‡∏Ç‡∏≠‡∏á "‡πÄ‡∏ü‡∏¥‡∏á"

## üèõÔ∏è ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏´‡∏•‡∏±‡∏Å: 3 ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÅ‡∏´‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞

Project Nexus ‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏ö‡∏ô‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏° 3 ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå:

### 1. ‡∏£‡∏∞‡∏î‡∏±‡∏ö AI ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à (The AI & Decision-Making Layer)
*   **‡∏´‡∏±‡∏ß‡πÉ‡∏à - Dispatcher-Centric Mixture of Experts (MoE):** `Dispatcher` ‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô "‡∏ú‡∏π‡πâ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ß‡∏á‡∏≠‡∏≠‡∏£‡πå‡πÄ‡∏Ñ‡∏™‡∏ï‡∏£‡∏≤" ‡∏£‡∏±‡∏ö "‡πÅ‡∏ü‡πâ‡∏°‡∏á‡∏≤‡∏ô" ‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡∏à‡∏≤‡∏Å `FengAgent` ‡πÅ‡∏•‡πâ‡∏ß‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏Å‡∏≤‡∏£‡∏°‡∏≠‡∏ö‡∏´‡∏°‡∏≤‡∏¢‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡πÉ‡∏´‡πâ "‡∏ó‡∏µ‡∏°‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç" (Agents) ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö
*   **‡∏Ç‡∏∏‡∏°‡∏û‡∏•‡∏±‡∏á - Hybrid Model Strategy:** ‡∏ú‡∏™‡∏°‡∏ú‡∏™‡∏≤‡∏ô‡∏à‡∏∏‡∏î‡πÅ‡∏Ç‡πá‡∏á‡∏Ç‡∏≠‡∏á‡πÇ‡∏°‡πÄ‡∏î‡∏•‡∏à‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡∏™‡∏±‡∏á‡∏Å‡∏±‡∏î‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏µ‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå:
    *   **Google Gemini 1.5 Flash:** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ "‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∂‡∏Å‡∏ã‡∏∂‡πâ‡∏á" (‡∏Å‡∏≤‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô, ‡πÉ‡∏´‡πâ‡∏Ñ‡∏≥‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤, ‡∏Ç‡∏±‡∏î‡πÄ‡∏Å‡∏•‡∏≤‡∏†‡∏≤‡∏©‡∏≤)
    *   **Groq (Llama 3 70B & 8B):** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏â‡∏•‡∏≤‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏î‡∏∏‡∏•" (‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏ó‡∏ô‡∏≤, ‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡πà‡∏≤‡∏ß, ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î)
*   **‡∏Å‡∏£‡∏∞‡∏î‡∏π‡∏Å‡∏™‡∏±‡∏ô‡∏´‡∏•‡∏±‡∏á - Advanced & Unified RAG:**
    *   **Plan-Retrieve-Synthesize:** ‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å‡πÅ‡∏ö‡∏ö 3 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà `PlannerAgent` ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏ó‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á
    *   **Unified RAG Engine Architecture:** "‡∏Ñ‡∏•‡∏±‡∏á‡πÅ‡∏™‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•" ‡∏ó‡∏µ‡πà‡∏°‡∏µ Engine ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ó‡∏≤‡∏á 3 ‡∏ï‡∏±‡∏ß (Book, KG, News) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î

### 2. ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ (The Application & Service Layer)
*   **Service-Oriented & API-Driven:** `main.py` (FastAPI) ‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô API Gateway ‡∏Å‡∏•‡∏≤‡∏á ‡∏ó‡∏≥‡πÉ‡∏´‡πâ Backend ‡πÅ‡∏•‡∏∞ Frontend ‡πÅ‡∏¢‡∏Å‡∏à‡∏≤‡∏Å‡∏Å‡∏±‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå ‡πÅ‡∏•‡∏∞‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏¢‡∏Å‡πÄ‡∏õ‡πá‡∏ô Microservices ‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï
*   **Client-Server Architecture:** `web/` ‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô Client ‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á Request ‡πÑ‡∏õ‡∏¢‡∏±‡∏á `main.py` ‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô Server ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•

### 3. ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏ã‡∏≠‡∏ü‡∏ï‡πå‡πÅ‡∏ß‡∏£‡πå (The Data & Software Layer)
*   **ETL Pipelines:** "‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•" ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡πÅ‡∏¢‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏´‡∏≤‡∏Å (`manage_*.py`, `knowledge_extractor_*.py`) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏•‡∏±‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
*   **Modular Architecture & Dependency Injection:** ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ñ‡∏π‡∏Å‡πÅ‡∏ö‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏°‡∏î‡∏π‡∏• (core, agents, data) ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£ Dependency Injection ‡πÉ‡∏ô `main.py` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÇ‡∏Ñ‡πâ‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏∞‡∏≠‡∏≤‡∏î, ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏á‡πà‡∏≤‡∏¢, ‡πÅ‡∏•‡∏∞‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß

---

## üåä ‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•‡∏Ç‡∏≠‡∏á‡∏ï‡∏£‡∏£‡∏Å‡∏∞: ‡∏à‡∏≤‡∏Å‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏™‡∏π‡πà‡∏†‡∏π‡∏°‡∏¥‡∏õ‡∏±‡∏ç‡∏ç‡∏≤

‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ñ‡∏π‡∏Å‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÇ‡∏î‡∏¢ `dispatcher.py` ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏á‡πà‡∏≤‡∏á‡∏≤‡∏°:

1.  **Flow 0: ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á (Continuing Mission):** ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡∏î‡∏à‡∏≥ "‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠" ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å ‡πÅ‡∏•‡∏∞‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ï‡∏≠‡∏ö‡∏£‡∏±‡∏ö ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏ó‡∏ô‡∏≤‡πÅ‡∏ö‡∏ö‡∏´‡∏•‡∏≤‡∏¢‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô (Multi-turn) ‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏ö‡∏£‡∏∑‡πà‡∏ô
2.  **Flow 1: ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞ (Intelligent Triage):** `FengAgent` ‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡∏ö‡∏≤‡∏ô‡πÅ‡∏£‡∏Å ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏á‡πà‡∏≤‡∏¢‡πÜ ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏î‡πâ‡∏ß‡∏¢ Whitelist ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ LLM ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏à‡∏ï‡∏ô‡∏≤ (Intent) ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô ‡∏Å‡πà‡∏≠‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á "‡πÅ‡∏ü‡πâ‡∏°‡∏á‡∏≤‡∏ô" ‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ Dispatcher
3.  **Flow 2: ‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ç‡∏ä‡∏≤‡∏Å‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡πÄ‡∏à‡∏ï‡∏ô‡∏≤ (Intent-based Delegation):** `Dispatcher` ‡πÉ‡∏ä‡πâ `intent_to_agent_map` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏°‡∏≠‡∏ö‡∏´‡∏°‡∏≤‡∏¢‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡πÉ‡∏´‡πâ Agent ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏°‡∏≠‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô (‡πÄ‡∏ä‡πà‡∏ô RAG Engine ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ó‡∏≤‡∏á)
4.  **Flow 3: ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏• (Outcome Management):** `Dispatcher` ‡∏£‡∏±‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå, ‡∏™‡πà‡∏á‡∏ï‡πà‡∏≠‡πÉ‡∏´‡πâ `FormatterAgent` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡∏±‡∏î‡πÄ‡∏Å‡∏•‡∏≤‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢, ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥, ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á `FinalResponse` ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
5.  **Flow ‡∏û‡∏¥‡πÄ‡∏®‡∏©: ‡∏ï‡∏≤‡∏Ç‡πà‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ (Safety Net):** `try...except` block ‡πÉ‡∏ô Dispatcher ‡∏à‡∏∞‡∏î‡∏±‡∏Å‡∏à‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏£‡πâ‡∏≤‡∏¢‡πÅ‡∏£‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ `ApologyAgent` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡∏∏‡πà‡∏°‡∏ô‡∏ß‡∏•

---

## üõ†Ô∏è ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ (Tech Stack)

*   **Backend:** FastAPI, Uvicorn
*   **AI & LLM:** Google Generative AI SDK (Gemini), Groq SDK (Llama 3)
*   **Data Science & RAG:** Sentence-Transformers, FAISS, Newspaper3k, Rapidfuzz
*   **Databases:** Neo4j (Graph Database), SQLite (Memory & Caching)
*   **Services:** Google AI Platform, GroqCloud
*   **Development:** Python 3.12+, Git, venv

---

## üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (Getting Started)

### ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ (Prerequisites)
*   Python 3.12+
*   Git
*   ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Neo4j ‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà

### ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á (Installation)

1.  **Clone the repository:**
    ```bash
    git clone https://github.com/Mike0165115321/PROJECT-NEXUS.git
    cd PROJECT-NEXUS
    ```

2.  **‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Virtual Environment:**
    ```bash
    python -m venv .venvs
    source .venvs/bin/activate
    ```

3.  **‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Dependencies:**
    ```bash
    pip install -r requirements.txt
    ```

4.  **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Environment Variables:**
    *   ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env` ‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì:
    ```env
    # Google Gemini API Keys (‡πÉ‡∏™‡πà‡πÄ‡∏õ‡πá‡∏ô list ‡∏Ñ‡∏±‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢ comma)
    GOOGLE_API_KEYS=your_gemini_key_1,your_gemini_key_2
    # Groq API Keys (‡πÉ‡∏™‡πà‡πÄ‡∏õ‡πá‡∏ô list ‡∏Ñ‡∏±‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢ comma)
    GROQ_API_KEYS=your_groq_key_1,your_groq_key_2
    # Neo4j Database Credentials
    NEO4J_URI="bolt://localhost:7687"
    NEO4J_USER="neo4j"
    NEO4J_PASSWORD="your_neo4j_password"
    # Unsplash API Key
    UNSPLASH_ACCESS_KEY="your_unsplash_key"
    ```

5.  **‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á Index (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç):**
    *   ‡∏£‡∏±‡∏ô‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå ETL ‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏•‡∏±‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ:
    ```bash
    python knowledge_extractor_gemini.py
    python manage_data.py
    python manage_kg_data.py
    python manage_news.py
    ```

6.  **‡∏£‡∏±‡∏ô‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô:**
    ```bash
    uvicorn main:app --reload
    ```
    *   ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà `http://127.0.0.1:8000`
    *   ‡∏î‡∏π‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ API ‡∏ó‡∏µ‡πà `http://127.0.0.1:8000/docs`

---

## üõ§Ô∏è ‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á: ‡∏à‡∏≤‡∏Å "‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°" ‡∏™‡∏π‡πà "‡∏™‡∏´‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡∏õ‡∏±‡∏ç‡∏ç‡∏≤"

PROJECT NEXUS ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÉ‡∏ô‡∏ä‡∏±‡πà‡∏ß‡∏Ç‡πâ‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ô ‡πÅ‡∏ï‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á 3 ‡∏ä‡πà‡∏ß‡∏á‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏´‡∏•‡πà‡∏≠‡∏´‡∏•‡∏≠‡∏°‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ:
1.  **‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ß‡∏¥‡∏Å‡∏§‡∏ï‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô:** ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡πá‡∏ô "‡∏ô‡∏±‡∏Å‡∏™‡∏∑‡∏ö" ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏ã‡πà‡∏≠‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏•‡∏∂‡∏Å‡πÜ ‡∏à‡∏ô‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏ã‡∏∂‡πà‡∏á "‡∏ß‡∏¥‡∏ô‡∏±‡∏¢" ‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏ó‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏ó‡∏µ‡πà‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏Å‡∏£‡πà‡∏á
2.  **‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ß‡∏±‡∏ï‡∏¥‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏° AI:** "‡∏¢‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á" ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÉ‡∏´‡∏ç‡πà ‡∏à‡∏≤‡∏Å Agent ‡∏ï‡∏±‡∏ß‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏™‡∏π‡πà "Mixture of Experts", ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á‡πÑ‡∏õ‡∏ó‡∏µ‡πà "Dispatcher", ‡πÅ‡∏•‡∏∞‡∏ú‡∏™‡∏°‡∏ú‡∏™‡∏≤‡∏ô‡∏Ç‡∏∏‡∏°‡∏û‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å "Mixture of Models" (Gemini + Groq)
3.  **‡∏Å‡∏≤‡∏£‡∏´‡∏•‡∏≠‡∏°‡∏£‡∏ß‡∏° "‡∏à‡∏¥‡∏ï‡∏ß‡∏¥‡∏ç‡∏ç‡∏≤‡∏ì" ‡πÅ‡∏•‡∏∞ "‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏¢‡∏ô‡∏ï‡πå":** ‡∏™‡∏£‡πâ‡∏≤‡∏á "‡∏à‡∏¥‡∏ï‡∏ß‡∏¥‡∏ç‡∏ç‡∏≤‡∏ì" ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö "‡πÄ‡∏ü‡∏¥‡∏á" ‡∏ú‡πà‡∏≤‡∏ô `persona_core.py`, ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö `FengAgent` ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô "‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞", ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á `Unified RAG Engine Architecture` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏°‡∏≠‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏ó‡∏£‡∏á‡∏û‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏´‡πâ‡πÅ‡∏Å‡πà Agent ‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß

‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Ñ‡∏∑‡∏≠‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏¥‡πÄ‡∏ß‡∏® AI ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á "‡∏™‡∏°‡∏≠‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏ô‡πâ‡∏≤" (Dispatcher), "‡∏ó‡∏µ‡∏°‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç" (Agents), "‡∏Ç‡∏∏‡∏°‡∏û‡∏•‡∏±‡∏á" (Models), "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥" (RAG Engines), ‡πÅ‡∏•‡∏∞ "‡∏´‡∏±‡∏ß‡πÉ‡∏à" (Persona) ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°

---
<br>

<!-- ENGLISH VERSION -->
# üß† PROJECT NEXUS: The Unified Engine Architecture (English Version)

> An **"Intellectual Companion"** built on a sophisticated and powerful **Hybrid Architecture**. It features a **Dispatcher** as the "orchestra conductor" for a **"Mixture of Experts"** team, powered by a **"Mixture of Models"**. All decisions are driven by **Chain of Thought** logic and advanced reasoning from **Advanced RAG** and a **Unified RAG Engine Architecture**, all served through a modern, flexible, and scalable **API-Driven** architecture.

<div align="right">
  <a href="#-project-nexus-the-unified-engine-architecture"><strong>‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡πà‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢</strong></a>
</div>

**PROJECT NEXUS** is not just a chatbot; it is a **"living AI ecosystem"** that has evolved from a simple program into a "companion" ready to reflect and research alongside its user. This project doesn't rely on a single architecture but is a **"Layered Architectural Blend"** where multiple systems work in concert to create an AI that is versatile, deeply contextual, and maintains a consistent personality under the persona of "Feng."

## üèõÔ∏è Core Architecture: Three Layers of Intelligence

Project Nexus is built on three perfectly integrated architectural layers:

### 1. The AI & Decision-Making Layer
*   **The Heart - Dispatcher-Centric Mixture of Experts (MoE):** The `Dispatcher` acts as the "orchestra conductor," receiving a "work file" from the `FengAgent` (triage unit) and assigning the mission to the most suitable specialist "Agent," enabling complex, systematic decision-making.
*   **The Powerhouse - Hybrid Model Strategy:** Strategically combines the strengths of various models:
    *   **Google Gemini 1.5 Flash:** For tasks requiring "quality and depth" (planning, counseling, final formatting).
    *   **Groq (Llama 3 70B & 8B):** For tasks demanding a "balance of speed and intelligence" (conversation, news summary, coding).
*   **The Backbone - Advanced & Unified RAG:**
    *   **Plan-Retrieve-Synthesize:** A 3-step deep knowledge retrieval process used by the `PlannerAgent` to generate high-quality analysis.
    *   **Unified RAG Engine Architecture:** A "data arsenal" with three specialized engines (Book, KG, News) for maximum precision.

### 2. The Application & Service Layer
*   **Service-Oriented & API-Driven:** `main.py` (FastAPI) serves as the central API Gateway, completely decoupling the backend and frontend, ready for future expansion into microservices.
*   **Client-Server Architecture:** `web/` acts as the client, sending requests to the `main.py` processing server.

### 3. The Data & Software Layer
*   **ETL Pipelines:** A dedicated "data factory" of separate scripts (`manage_*.py`, `knowledge_extractor_*.py`) for building and maintaining the entire knowledge base.
*   **Modular Architecture & Dependency Injection:** The project is structured into modules (core, agents, data), utilizing Dependency Injection in `main.py` for clean, testable, and maintainable code.

---

## üåä Logic Flow: From Query to Wisdom

The entire workflow is elegantly orchestrated by `dispatcher.py`:

1.  **Flow 0: Continuing Mission:** The system remembers "offers" for deep-dive analysis and can resume the task seamlessly when the user agrees, enabling smooth multi-turn conversations.
2.  **Flow 1: Intelligent Triage:** The `FengAgent` acts as the gateway, providing instant answers via a whitelist and using an LLM to classify the intent of complex queries before creating a "work file" for the Dispatcher.
3.  **Flow 2: Intent-based Delegation:** The `Dispatcher` uses an `intent_to_agent_map` to delegate the task to the most appropriate Agent, equipping it with the necessary specialized tools (e.g., a specific RAG Engine).
4.  **Flow 3: Outcome Management:** The `Dispatcher` receives the result, passes it to the `FormatterAgent` for final polishing, saves the memory, and constructs the `FinalResponse` for the user.
5.  **Special Flow: Safety Net:** A `try...except` block in the Dispatcher catches critical errors and calls the `ApologyAgent` to handle the situation gracefully.

---

## üõ†Ô∏è Tech Stack

*   **Backend:** FastAPI, Uvicorn
*   **AI & LLM:** Google Generative AI SDK (Gemini), Groq SDK (Llama 3)
*   **Data Science & RAG:** Sentence-Transformers, FAISS, Newspaper3k, Rapidfuzz
*   **Databases:** Neo4j (Graph Database), SQLite (Memory & Caching)
*   **Services:** Google AI Platform, GroqCloud
*   **Development:** Python 3.12+, Git, venv

---

## üöÄ Getting Started

### Prerequisites
*   Python 3.12+
*   Git
*   A running instance of a Neo4j database

### Installation

1.  **Clone the repository:**
    ```bash
    git clone https://github.com/Mike0165115321/PROJECT-NEXUS.git
    cd PROJECT-NEXUS
    ```

2.  **Create and activate a virtual environment:**
    ```bash
    python -m venv .venvs
    source .venvs/bin/activate
    ```

3.  **Install dependencies:**
    ```bash
    pip install -r requirements.txt
    ```

4.  **Set up environment variables:**
    *   Create a `.env` file and add your credentials:
    ```env
    # Google Gemini API Keys (as a comma-separated list)
    GOOGLE_API_KEYS=your_gemini_key_1,your_gemini_key_2
    # Groq API Keys (as a comma-separated list)
    GROQ_API_KEYS=your_groq_key_1,your_groq_key_2
    # Neo4j Database Credentials
    NEO4J_URI="bolt://localhost:7687"
    NEO4J_USER="neo4j"
    NEO4J_PASSWORD="your_neo4j_password"
    # Unsplash API Key
    UNSPLASH_ACCESS_KEY="your_unsplash_key"
    ```

5.  **Prepare data and build indices (Crucial Step):**
    *   Run the ETL scripts in sequence to build the knowledge base:
    ```bash
    python knowledge_extractor_gemini.py
    python manage_data.py
    python manage_kg_data.py
    python manage_news.py
    ```

6.  **Run the application:**
    ```bash
    uvicorn main:app --reload
    ```
    *   Access the app at `http://127.0.0.1:8000`
    *   View the API docs at `http://127.0.0.1:8000/docs`

---

## üõ§Ô∏è The Journey: From Program to Intellectual Companion

PROJECT NEXUS wasn't built overnight. It was forged through a three-stage journey that shaped its very essence:
1.  **Crisis & Foundation:** It began with "detective work" to solve deep, hidden bugs, which instilled the "discipline" and strong technical foundation the project stands on today.
2.  **The AI Architectural Revolution:** A major overhaul that transformed the system from a single agent to a "Mixture of Experts," shifted the core logic to be "Dispatcher-centric," and created a powerful "Mixture of Models" (Gemini + Groq).
3.  **Fusing the Soul & The Engine:** The final stage involved breathing "soul" into the "Feng" persona via `persona_core.py`, designing the `FengAgent` as an intelligent gateway, and engineering the `Unified RAG Engine Architecture` to arm every agent with the most powerful tools.

The result is an AI ecosystem with a "prefrontal cortex" (Dispatcher), a "team of specialists" (Agents), a "hybrid powerhouse" (Models), a vast "memory" (RAG Engines), and most importantly, a "heart" (Persona) that makes it more than just a program.
